# types/

<!-- Parent: ../AGENTS.md -->

## Purpose

TypeScript type definitions for the Bible Soom application. Currently contains auto-generated Supabase database schema types.

## Key Files

### database.ts
**Auto-generated Supabase schema types** - Do not manually edit.

- **Source**: Generated by Supabase CLI from database schema
- **Usage**: Import these types when querying Supabase to ensure type safety
- **Current State**: Empty schema placeholder (public.Tables is empty)
- **Note**: This suggests the types need to be regenerated after schema migrations

**Example Usage:**
```typescript
import type { Database } from '@/types/database';

type Verse = Database['public']['Tables']['verses']['Row'];
type VerseInsert = Database['public']['Tables']['verses']['Insert'];
```

## Subdirectories

None.

## For AI Agents

### Type Generation Workflow

1. **Update Schema**: Run migrations in `supabase/migrations/*.sql`
2. **Regenerate Types**:
   ```bash
   supabase gen types typescript --local > types/database.ts
   ```
3. **Never manually edit** `database.ts` - it will be overwritten

### Current Status

⚠️ **Action Required**: The database.ts file appears to be a placeholder (empty Tables). After schema migrations are applied, regenerate types to reflect actual database structure.

### Expected Schema After Regeneration

Based on project architecture (see `CLAUDE.md`), types should include:
- `new_books` - Bible book metadata
- `book_names` - Multi-language book names
- `translations` - Translation metadata
- `new_verses` - Canonical verse structure
- `verse_translations` - Translated text
- `users` - User profiles
- `notes`, `highlights`, `bookmarks` - User annotation data
- **Legacy**: `books`, `verses` (wide table schema, being phased out)

## Dependencies

- **Supabase CLI**: Required for type generation
- **Database Schema**: Defined in `supabase/migrations/*.sql`
- **Used By**: All API routes (`app/api/v1/**`) and server components

## Related Documentation

- `/CLAUDE.md` - Database schema architecture and migration strategy
- `/supabase/migrations/` - Schema definition files
- `/lib/supabase/` - Supabase client implementations
